<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
          xmlns:p="http://primefaces.org/ui"  
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
<link rel="shortcut icon" href="favicon.ico" /> <title>Sistema Integrado</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="style.css" rel="stylesheet" type="text/css" />  <meta http-equiv="refresh" content="#{session.maxInactiveInterval};url=index.jsf" />
<p:dock position="top" id="dock_menu" itemWidth="75" >
    <p:menuitem value="Inicio"  icon="/images/casa_final.jpg" url="index.jsf"/>
    <p:menuitem value="Ventas"  icon="/images/ventas_final.jpg" url="ventas.jsf"/>
    <p:menuitem value="Compras" icon="/images/compras_final.jpg" url="compras.jsf"/>
    <p:menuitem value="Almac&eacute;n"  icon="/images/almacen_final.jpg" url="almacen.jsf"/>
    <p:menuitem value="Finanzas"  icon="/images/finanzas_final.jpg" url="finanzas.jsf"/>

</p:dock>
</h:head>
<h:body>
<div class="main">
  <div class="header">
    <div class="logo">
       </div>
    <div class="menu">

    </div>
  </div>
  <div class="clr"></div>
  <div class="block_header">
    <div class="slider">
   
    <p:panel id="pnlprincipal" header="M&oacute;dulo de Ventas - Nuevo Contrato " >
        <h:form id="DATOS" >

 <p:growl id="growl" showDetail="true"/>


            <h:panelGrid id="grid_prin" columns="2" style="width: 100%" >



         <h:panelGrid id="pnlg1" columns="1" style="width: 90%;" >


         <p:fieldset id="fielset" toggleable="true" toggleSpeed="500" legend="ASIGNACIÓN DEL PRODUCTO AL NUEVO CONTRATO" style="margin-top:10px; width: 100%">

             <h:panelGrid id="pnlg12" columns="2"  >


         <h:outputText value="TIENDA: " />
         <p:selectOneMenu value="#{managedBeanContratoFumigacion.tienda}" effect="drop" style="width:425px" converter="tiendaConverter" >
         <f:selectItems  id="temsTien" value="#{managedBeanTienda.tiendasItems}"/>
         </p:selectOneMenu>

         <h:outputText value="PRODUCTO: " />
         <p:autoComplete id="auroxcomplete2"
                         value="#{managedBeanContratoFumigacion.producto}"
                 completeMethod="#{managedBeanVenta.completar_filtrado_Producto}"
                 var="item_Producto" itemLabel="#{item_Producto.nombreProducto}"
                  itemValue="#{item_Producto}"
                               converter="ProductoConverter"  minQueryLength="3"
               size="42"
                />

           <h:outputText value="CANTIDAD: " />
           
           <p:inputText size="21" value="#{managedBeanContratoFumigacion.cantidad}" />


            <h:outputText value="" />
            <p:commandButton  value="Asignar" action="#{managedBeanContratoFumigacion.AgregarDetalleProducto_FinalDZ}" update=":DATOS" />

 </h:panelGrid>
            <p:dataTable id="basic" var="item" value="#{managedBeanContratoFumigacion.lista_detalle_producto}">
                <p:column id="modelHeader" style="width: 75%;">
            <f:facet  name="header">
                    PRODUCTO
            </f:facet>
            <h:outputText style="color: blue;" value="#{item.producto.nombreProducto}" />
        </p:column>

                <p:column style="text-align: center; width: 18%">
            <f:facet name="header">
                    CANTIDAD
            </f:facet>
                    <h:outputText style="color: red;" value="#{item.cantidad}" />
        </p:column>
 <p:column headerText="" style="width:7%">

            <p:commandButton title="Eliminar éste Producto" icon="ui-icon ui-icon-close"  action="#{managedBeanContratoFumigacion.EliminarLista}" update=":DATOS" >
                <f:setPropertyActionListener value="#{item}" target="#{managedBeanContratoFumigacion.detalle_producto}" />
            </p:commandButton>



        </p:column>
        
    </p:dataTable>
</p:fieldset>
         <p:separator />
 <h:outputText value="Descripción Adicional: " />
            <p:inputTextarea cols="35" style="color: green;" value="#{managedBeanContratoFumigacion.contrato.descripcion}"/>


            <h:outputText value="FECHA(OBLIGATORIO): "  style="color: red;"/>
            <p:calendar id="FECHA_HORA" required="true" locale="es" effect="explode" value="#{managedBeanContratoFumigacion.contrato.fechaHoraFumigacion}" pattern="dd/MM/yyyy hh:mm a" />

          
 </h:panelGrid>

         <h:panelGrid id="grid_boton" columns="1"  style="width: 10%" >

         <h:commandButton value="Agregar"  title="Dar Click para Agregar Contrato" image="images/guardar.png" action="#{managedBeanContratoFumigacion.crear}" />
       </h:panelGrid>
    </h:panelGrid>

       </h:form>



    </p:panel>

    </div>
  </div>
  <div class="clr"></div>

  <div class="clr"></div>

  <div class="clr"></div>
</div>

</h:body>
</html>